<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Touch Paint Test</title>
<style>
  body { margin:0; overflow:hidden; }
  #canvas { width:100vw; height:100vh; display:block; background:#eee; touch-action:none; }
  #colors { position:fixed; top:10px; left:10px; z-index:10; background:white; padding:5px; border-radius:5px; }
  #colors button { width:24px; height:24px; margin:2px; border:none; cursor:pointer; }
</style>
</head>
<body>

<div id="colors"></div>
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

const PIXEL = 20;
let currentColor = "#000";
const palette = ["#000","#f00","#0f0","#00f","#ff0","#f0f","#0ff","#fff"];
const colorDiv = document.getElementById('colors');

palette.forEach(c=>{
  const b = document.createElement('button');
  b.style.background = c;
  b.onclick = ()=> currentColor = c;
  colorDiv.appendChild(b);
});

function drawPixel(x,y){
  ctx.fillStyle = currentColor;
  ctx.fillRect(x, y, PIXEL, PIXEL);
}

// ===== Touch Events =====
canvas.addEventListener("touchstart", e=>{
  e.preventDefault();
  for(const t of e.touches){
    drawPixel(t.clientX, t.clientY);
  }
});

canvas.addEventListener("touchmove", e=>{
  e.preventDefault();
  for(const t of e.touches){
    drawPixel(t.clientX, t.clientY);
  }
});

// ===== Mouse (optional) =====
canvas.addEventListener("mousedown", e=>{
  drawPixel(e.clientX, e.clientY);
  canvas.addEventListener("mousemove", onMouseMove);
});
canvas.addEventListener("mouseup", ()=>canvas.removeEventListener("mousemove", onMouseMove));
function onMouseMove(e){ drawPixel(e.clientX, e.clientY); }
</script>

</body>
</html>
